{# ----- Instagram Thumbnails ----- #}

{% set instagram_images = instagram_gallery | sortISO8601 | reverse | head(12) %}
<style>#instagram-grid{display:grid;gap:0.5em;grid-template-columns:1fr 1fr;}@media screen and (min-width:750px){ #instagram-grid{grid-template-columns:1fr 1fr 1fr;} }@media screen and (min-width:950px) and (orientation:landscape){ #instagram-grid{grid-template-columns:1fr 1fr 1fr 1fr;} }@media screen and (min-width:1400px){ #instagram-grid{grid-template-columns:1fr 1fr 1fr 1fr 1fr 1fr;} }</style>
<section>
  <div class="wrapper page-wrapper flow" style="--flow-space:2em">
    <h2 class="heading">Instagram</h2>
    <div class="horizontal center"><a href="{{ site.instagram }}" class="button" role="button" target="_blank" rel="noopener">{{ '/src/svg/instagram.svg' | svgContents | safe }}&nbsp;&nbsp;Follow us</a></div>
    <div>
      <ul role="list" class="instagram-grid" id="instagram-grid">
        {% for item in instagram_images -%}
          {% set thumbnail_path = (item.thumbnail_url or item.media_url) %}
          <li class="hover-scale">
            <figure>
              <div class="round border-faint" style="background-image:url('{% insta_lqip path=thumbnail_path, params='/cover=1:1' %}')">
                <noscript><a href="{% insta_twic path=thumbnail_path %}" style="height:100%;display:block"><img class="round cursor-pointer" src="{% insta_twic path=thumbnail_path, params='/cover=450x450' %}" width="450" height="450" alt="{{ item.caption | urldecode }}" /></a></noscript>
                <img class="round cursor-pointer" data-twic-src="image:instagram{{ thumbnail_path | replace(site.match_url,"") | safe }}" data-twic-transform="cover=1:1/max" data-twic-step="40" data-twic-bot="cover=450x450" alt="{{ item.caption | urldecode }}" src="{% placeholder 450,450 %}" />
              </div>
            </figure>
          </li>
        {% endfor %}
      </ul>
    </div>
  </div>
</section>
