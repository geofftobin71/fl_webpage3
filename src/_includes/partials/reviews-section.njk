{% set slider_reviews = reviews | filterWeddingReviews(false) | removeLongReviews(300) | shuffle | head(5) %}

<style>
.split-overlap {
  --overlap:7.5vmin;
  display:grid;
  grid-template-columns:1fr 1fr;
  padding-left:0;
  padding-right:1em;
}
.split-overlap .content {
  background-color:var(--color-alt);
  margin-right:calc(-1 * var(--overlap));
  overflow:hidden;
  box-shadow:inset 0 0 20vmin rgba(94,106,101,0.15);
}
.split-overlap .image {
  display:flex;
  align-items:center;
  justify-content:start;
  z-index:1;
}
.split-overlap .content,
.split-overlap .image {
  padding-left:0;
  padding-right:0;
  padding-top:var(--overlap);
  padding-bottom:var(--overlap);
}
.split-overlap .content > * {
  transform:translateX(calc(-0.5 * var(--overlap)));
}
.split-overlap .slider {
  position:static;
}
.split-overlap .slider-item {
  padding:0;
  height:auto;
}
.split-overlap blockquote {
  border:none;
  box-shadow:none;
  background-color:transparent;
  padding:0;
}
.split-overlap blockquote p,
.split-overlap blockquote footer {
  font-size:var(--size-400);
  max-width:40ch;
}
@media screen and (orientation:landscape) and (min-width:750px) {
  .split-overlap.left {
    padding-right:0;
    padding-left:1em;
  }
  .split-overlap.left .content {
    order:2;
    margin-right:0;
    margin-left:calc(-1 * var(--overlap));
  }
  .split-overlap.left .image {
    order:1;
    justify-content:end;
  }
  .split-overlap.left .content > * {
    transform:translateX(calc(0.5 * var(--overlap)));
  }
}
@media screen and (max-width:950px) {
  .split-overlap {
    grid-template-columns:100%;
    padding-left:1em;
  }
  .split-overlap .content {
    margin-right:0;
    margin-bottom:calc(-1 * var(--overlap));
    padding-bottom:calc(2 * var(--overlap));
  }
  .split-overlap .image {
    padding-top:0;
    padding-bottom:0;
    justify-content:center;
  }
  .split-overlap .content,
  .split-overlap .image {
    padding-left:var(--overlap);
    padding-right:var(--overlap);
  }
  .split-overlap .content > * {
    transform:translateX(0);
  }
  .split-overlap.top .image {
    order:1;
  }
  .split-overlap.top .content {
    order:2;
    margin-bottom:0;
    padding-bottom:var(--overlap);
    margin-top:calc(-1 * var(--overlap));
    padding-top:calc(2 * var(--overlap));
  }
}
@media screen and (orientation:portrait) and (max-width:750px) {
  .split-overlap {
    --overlap:2em;
    padding-left:0;
    padding-right:0;
  }
  .split-overlap .content,
  .split-overlap .image {
    padding-left:1em;
    padding-right:1em;
  }
  .split-overlap blockquote p,
  .split-overlap blockquote footer {
    max-width:38ch;
    padding-left:1em;
    padding-right:1em;
  }
}
</style>

<style>
{% for review in slider_reviews -%}
  .slider-selector:nth-of-type({{ loop.index }}):checked ~ .slider-container .slider {
    transform: translateX({{ -loop.index0 * 100 }}%);
  }
  .slider-selector:nth-of-type({{ loop.index }}):checked ~ .dot-container .slider-dot:nth-of-type({{ loop.index }}) {
    opacity:1;
  }
{% endfor %}
}
</style>

<section class="split-overlap left wrapper page-wrapper">
  <div class="content vertical center middle flow">
    <h2 class="heading">Reviews</h2>
    {% for review in slider_reviews -%}
      <input class="slider-selector" type="radio" name="review" id="review-{{ loop.index }}" {{ 'checked' if loop.first }}>
    {% endfor %}
    <div class="slider-container">
      <ul role="list" class="slider">
        {% for review in slider_reviews %}
          <li class="slider-item">
            <blockquote class="flow">
              <p>
              {{ review.review }}
              </p>
              <footer>
                {{ review.name }}
              </footer>
            </blockquote>
          </li>
        {% endfor %}
      </ul>
    </div>
    <div class="dot-container horizontal center">
      {% for review in slider_reviews %}
        <label role="button" class="slider-dot" for="review-{{ loop.index }}">{{ '/src/svg/circle.svg' | svgContents | safe }}</label>
      {% endfor %}
    </div>
    <a class="button" role="button" href="/reviews" style="--flow-space:2em">Read more Reviews</a>
  </div>
  <div class="image">
    <img src="https://ay65paiy.twic.pics/instagram/v/t51.29350-15/278421760_2500647370069774_3891803092009551351_n.jpg?twic=v1&_nc_cat=103&ccb=1-5&_nc_sid=8ae9d6&_nc_ohc=bbo__K16KF8AX_htBmt&_nc_ht=scontent-syd2-1.cdninstagram.com&edm=ANo9K5cEAAAA&oh=00_AT90ecFXdacjSmlRf3BR73neeGSbUq0gqZBudE-5Drhdxg&oe=6267BDE1" alt="Loving these gorgeous photos of newlyweds Eileen and Liam. Don’t they look so happy?  Photos by @jinalgovindphotography Wedding venue @tarurekaestate">
  </div>
</section>

<section class="split-overlap top wrapper page-wrapper">
  <div class="content vertical center middle flow">
    <h2 class="heading">Reviews</h2>
    {% for review in slider_reviews -%}
      <input class="slider-selector" type="radio" name="review" id="review-{{ loop.index }}" {{ 'checked' if loop.first }}>
    {% endfor %}
    <div class="slider-container">
      <ul role="list" class="slider">
        {% for review in slider_reviews %}
          <li class="slider-item">
            <blockquote class="flow">
              <p>
              {{ review.review }}
              </p>
              <footer>
                {{ review.name }}
              </footer>
            </blockquote>
          </li>
        {% endfor %}
      </ul>
    </div>
    <div class="dot-container horizontal center">
      {% for review in slider_reviews %}
        <label role="button" class="slider-dot" for="review-{{ loop.index }}">{{ '/src/svg/circle.svg' | svgContents | safe }}</label>
      {% endfor %}
    </div>
    <a class="button" role="button" href="/reviews" style="--flow-space:2em">Read more Reviews</a>
  </div>
  <div class="image">
    <img src="https://ay65paiy.twic.pics/instagram/v/t51.29350-15/278421760_2500647370069774_3891803092009551351_n.jpg?twic=v1&_nc_cat=103&ccb=1-5&_nc_sid=8ae9d6&_nc_ohc=bbo__K16KF8AX_htBmt&_nc_ht=scontent-syd2-1.cdninstagram.com&edm=ANo9K5cEAAAA&oh=00_AT90ecFXdacjSmlRf3BR73neeGSbUq0gqZBudE-5Drhdxg&oe=6267BDE1" alt="Loving these gorgeous photos of newlyweds Eileen and Liam. Don’t they look so happy?  Photos by @jinalgovindphotography Wedding venue @tarurekaestate">
  </div>
</section>

<section class="split-overlap left wrapper page-wrapper">
  <div class="content vertical center middle flow">
    <h2 class="heading">Reviews</h2>
    {% for review in slider_reviews -%}
      <input class="slider-selector" type="radio" name="review" id="review-{{ loop.index }}" {{ 'checked' if loop.first }}>
    {% endfor %}
    <div class="slider-container">
      <ul role="list" class="slider">
        {% for review in slider_reviews %}
          <li class="slider-item">
            <blockquote class="flow">
              <p>
              {{ review.review }}
              </p>
              <footer>
                {{ review.name }}
              </footer>
            </blockquote>
          </li>
        {% endfor %}
      </ul>
    </div>
    <div class="dot-container horizontal center">
      {% for review in slider_reviews %}
        <label role="button" class="slider-dot" for="review-{{ loop.index }}">{{ '/src/svg/circle.svg' | svgContents | safe }}</label>
      {% endfor %}
    </div>
    <a class="button" role="button" href="/reviews" style="--flow-space:2em">Read more Reviews</a>
  </div>
  <div class="image">
    <img src="https://ay65paiy.twic.pics/instagram/v/t51.29350-15/278421760_2500647370069774_3891803092009551351_n.jpg?twic=v1&_nc_cat=103&ccb=1-5&_nc_sid=8ae9d6&_nc_ohc=bbo__K16KF8AX_htBmt&_nc_ht=scontent-syd2-1.cdninstagram.com&edm=ANo9K5cEAAAA&oh=00_AT90ecFXdacjSmlRf3BR73neeGSbUq0gqZBudE-5Drhdxg&oe=6267BDE1" alt="Loving these gorgeous photos of newlyweds Eileen and Liam. Don’t they look so happy?  Photos by @jinalgovindphotography Wedding venue @tarurekaestate">
  </div>
</section>
